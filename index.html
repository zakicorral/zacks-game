<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Endless Background</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: black;
    }

    canvas {
      display: block;
      margin: 0 auto;
      width: 100vw;
      height: 100vh;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas" width="1280" height="720"></canvas>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    // Load all background layers
    const layers = [
      { img: new Image(), src: "images/1.png", speed: 0.2 }, // sky
      { img: new Image(), src: "images/2.png", speed: 0.5 }, // clouds
      { img: new Image(), src: "images/3.png", speed: 1.0 }, // far ground
      { img: new Image(), src: "images/4.png", speed: 2.0 }, // close ground
      { img: new Image(), src: "images/5.png", speed: 3.0 }  // bird layer (optional decor)
    ];

    // Assign image sources
    layers.forEach(layer => layer.img.src = layer.src);

    // Track position for each layer
    layers.forEach(layer => layer.x = 0);

    function drawLayer(layer) {
      layer.x -= layer.speed;
      if (layer.x <= -canvas.width) layer.x = 0;

      ctx.drawImage(layer.img, layer.x, 0, canvas.width, canvas.height);
      ctx.drawImage(layer.img, layer.x + canvas.width, 0, canvas.width, canvas.height);
    }

    function update() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      layers.forEach(layer => {
        drawLayer(layer);
      });

      requestAnimationFrame(update);
    }

    // Start once all images are loaded
    let loaded = 0;
    layers.forEach(layer => {
      layer.img.onload = () => {
        loaded++;
        if (loaded === layers.length) update();
      };
    });
  </script>
</body>
</html>
